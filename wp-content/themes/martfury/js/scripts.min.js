(function(u){"use strict";var m=m||{};m.init=function(){m.$body=u(document.body),m.$window=u(window),m.$header=u("#site-header");this.preLoader();this.newLetterPopup();this.stickyHeader();this.productSearchLabel();this.headerMenu();this.megaMenu();this.instanceSearch();this.topPromotion();this.mobileMenu();this.userMobileMenu();this.headerIE();this.headerRecentlyProducts();this.pageHeaderParallax();this.postEntryFormat();this.singleEntryFormat();this.blogLoadingAjax();this.relatedPost();this.blogLayout();this.lazyLoad();this.backToTop();this.catalogBanners();this.productsTopCarousel();this.collapseTheFilter();this.productCategoriesWidget();this.toolTipIcon();this.searchLayeredNav();this.productAttribute();this.shopView();this.addWishlist();this.addCompare();this.productQuickView();this.variationImagesCarousel();this.productTopCategories();this.filterAjax();this.catalogOpenCartMini();this.productsLoadInfinite();this.productCatWidget();this.hoverProductTabs();this.productQuantity();this.productThumbnail();this.productVideo();this.productGallery();this.productDegree();this.singleProductCarousel();this.instagramCarousel();this.productVatiation();this.productVariationVideo();this.addToCartAjax();this.stickyProductInfo();this.loginTabs();this.buyNow();this.wooTabToggle();this.productMultiVendors();this.recentlyFooterViewedProducts();this.cartQuantity();this.filterOnMobile();this.navigationMobile();this.footerDropdown();this.catalogSorting();this.historyBack();this.wcfm();u(document.body).on("martfury_get_products_ajax_success",function(){m.toolTipIcon();u(document.body).trigger("yith_wcwl_init")});m.$body.on("martfury_recently_viewed_loaded",function(e,t){var i=u(t).find(".product-list li");i.on("mousemove",function(e){var t=u(this),i=e.pageX-t.offset().left+10,o=i-t.find(".product-info").outerWidth(),a=e.pageY-t.offset().top+10;if(t.is(":last-child")){t.find(".product-info").show().css({left:o,top:a})}else{t.find(".product-info").show().css({left:i,top:a})}}).on("mouseout",function(){u(this).find(".product-info").hide()})})};m.isIEVersion=function(){var e=window.navigator.userAgent;var t=false;var i=e.indexOf("MSIE ");if(i>0){t=parseInt(e.substring(i+5,e.indexOf(".",i)),10)}var o=e.indexOf("Trident/");if(o>0){var a=e.indexOf("rv:");t=parseInt(e.substring(a+3,e.indexOf(".",a)),10)}return t};m.headerIE=function(){var e=m.isIEVersion();if(!e){return}var t=m.$header.find(".header-extras"),i=t.find(".product-extra-search"),o=t.find(".extras-menu");var a=t.width(),r=o.outerWidth(true),n="60%";n=88-r/a*100+"%";i.width(n)};m.preLoader=function(){if(!m.$body.hasClass("mf-preloader")){return}if(m.$body.hasClass("elementor-editor-active")){u("#martfury-preloader").addClass("fade-in");return}NProgress.start();u(document).ready(function(){u("#martfury-preloader").addClass("fade-in");NProgress.done()})};m.stickyHeader=function(){if(!m.$body.hasClass("sticky-header")){return}var e=0,t=m.$header.find(".header-main"),i=t.outerHeight()-18,o=u("#top-promotion"),a=o.length>0?o.outerHeight(true):0,r=u("#topbar"),n=r.length>0?r.outerHeight(true):0,s=m.$header.outerHeight(true),l=m.$body.outerHeight(true);e=n+a+s;if(l<=e+m.$window.height()){return}m.$window.on("scroll",function(){if(o.length>0&&o.hasClass("invisible")){e=s+n}if(m.$window.scrollTop()>e){m.$header.addClass("minimized");m.$header.css({"padding-top":i})}else{m.$header.removeClass("minimized");m.$header.removeAttr("style")}})};m.topPromotion=function(){var t=u("#top-promotion");if(t.length<1){return}t.on("click",".close",function(e){e.preventDefault();t.slideUp().addClass("invisible")})};m.mobileMenu=function(){var t=u("#mf-els-modal-mobile").find(".primary-mobile-nav");if(!m.$body.hasClass("mobile-version")){t=u("#primary-mobile-nav")}m.$header.on("click","#mf-toggle-menu",function(e){e.preventDefault();m.$body.toggleClass("display-mobile-menu");t.find("li").removeClass("active")});t.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>');t.find("li.menu-item").removeClass("active");if(m.$body.hasClass("submenus-mobile-icon")){t.on("click",".toggle-menu-children",function(e){e.preventDefault();i(u(this))})}else{t.on("click",".menu-item-has-children > a",function(e){e.preventDefault();i(u(this))})}function i(e){e.closest("li").siblings().find("ul").slideUp();e.closest("li").siblings().removeClass("active");e.closest("li").siblings().find("li").removeClass("active");e.closest("li").children("ul").slideToggle();e.closest("li").toggleClass("active")}t.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault();m.$body.removeClass("display-mobile-menu")});u("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();m.$body.removeClass("display-mobile-menu mb-filter-active mf-filter-active");u("#navigation-mobile_cat").removeClass("active");u("#mf-navigation-mobile").find(".navigation-mobile_search").removeClass("active");u("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")});m.$window.on("resize",function(){if(m.$window.width()>1200){m.$body.removeClass("display-mobile-menu")}})};m.navigationMobile=function(){var i=u("#mf-els-modal-mobile"),o=u("#mf-search-mobile"),t=u("#primary-mobile-nav"),a=u("#mf-category-mobile-nav"),r=u("#mf-cart-mobile"),n=i.find(".mf-els-item");u("#mf-navigation-mobile").on("click",".navigation-mobile_cat",function(e){e.preventDefault();var t=u(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cart").removeClass("active");s(t,a)});u("#mf-navigation-mobile").on("click",".navigation-mobile_search",function(e){e.preventDefault();var t=u(this);t.closest(".navigation-list").find(".navigation-mobile_cat, .navigation-mobile_cart").removeClass("active");s(t,o)});m.$header.on("click","#site-header-category--mobile",function(e){e.preventDefault();n.removeClass("current");t.addClass("current");i.addClass("open");m.$body.addClass("navigation-mobile-active")});u("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();m.$body.removeClass("navigation-mobile-active");i.removeClass("open");a.removeClass("current")});r.on("click",".close-cart-mobile",function(e){e.preventDefault();m.$body.removeClass("navigation-mobile-active");i.removeClass("open");r.removeClass("current");u("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")});i.find(".primary-mobile-nav").on("click",".close-mobile-nav",function(e){e.preventDefault();m.$body.removeClass("navigation-mobile-active");i.removeClass("open");u("#navigation-mobile_cat").removeClass("active")});if(m.$body.hasClass("cart-panel-mobile")){u("#mf-navigation-mobile").on("click",".navigation-mobile_cart",function(e){e.preventDefault();var t=u(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cat").removeClass("active");s(t,r)});m.$header.on("click","#icon-cart-contents",function(e){e.preventDefault();n.removeClass("current");r.addClass("current");i.addClass("open");u("#mf-navigation-mobile").find(".navigation-mobile_cart").addClass("active");m.$body.addClass("navigation-mobile-active")})}function s(e,t){i.removeClass("open");m.$body.removeClass("navigation-mobile-active");n.removeClass("current");t.addClass("current");if(e.hasClass("active")){i.removeClass("open");e.removeClass("active");m.$body.removeClass("navigation-mobile-active")}else{i.addClass("open");e.addClass("active");m.$body.addClass("navigation-mobile-active")}}};m.userMobileMenu=function(){var e=u("#primary-user-nav");if(e.length<1){return}m.$window.on("resize",function(){if(m.$window.width()<1200){m.$body.addClass("canvas-menu-mobile")}else{m.$body.removeClass("canvas-menu-mobile")}}).trigger("resize");m.$header.find(".menu-item-account.logined").on("click","a",function(e){if(m.$body.hasClass("canvas-menu-mobile")){e.preventDefault();m.$body.toggleClass("display-user-mobile")}});e.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault();m.$body.removeClass("display-user-mobile")});u("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();m.$body.removeClass("display-user-mobile")})};m.newLetterPopup=function(){var t=u("#mf-newsletter-popup"),i=parseInt(martfuryData.nl_days),e=parseInt(martfuryData.nl_seconds);if(i>0&&document.cookie.match(/^(.*;)?\s*mf_newletter\s*=\s*[^;]+(.*)?$/)){return}if(t.length<1){return}u(document).ready(function(){setTimeout(function(){t.addClass("open")},e*1e3)});t.on("click",".close-modal",function(e){e.preventDefault();o(i);t.removeClass("open");t.fadeOut()});t.on("click",".n-close",function(e){e.preventDefault();o(30);t.removeClass("open");t.fadeOut()});t.find(".mc4wp-form").on("submit",function(){o(i)});t.find(".formkit-form").on("submit",function(){o(i)});function o(e){var t=new Date,i=t.getTime();t.setTime(t.getTime()+e*24*60*60*1e3);document.cookie="mf_newletter="+i+";expires="+t.toGMTString()+";path=/"}};m.backToTop=function(){var e=u("#scroll-top");m.$window.on("scroll",function(){if(m.$window.scrollTop()>m.$window.height()){e.addClass("show-scroll")}else{e.removeClass("show-scroll")}});e.on("click",function(e){e.preventDefault();u("html, body").stop().animate({scrollTop:0},800)})};m.headerMenu=function(){if(m.$header.hasClass("header-department-bot")){return}if(m.$header.find(".products-cats-menu").length<1){return}var e=m.$header.find(".products-cats-menu").position().left;if(martfuryData.direction==="true"){var t=m.$header.find(".header-logo").width(),i=m.$header.find(".products-cats-menu").width(),o=t-e-i+15;m.$header.find(".toggle-product-cats").css({right:o*-1})}else{m.$header.find(".toggle-product-cats").css({left:e*-1})}};m.megaMenu=function(){m.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var e=u(this).children(".dropdown-submenu").width(),t=u(this).closest(".col-header-menu").width(),i=u(this).outerWidth(),o=u(this).position().left+i/2,a=t-u(this).position().left+i/2,r=o-e/2,n=a-e/2;if(n<0){u(this).removeClass("has-width").addClass("align-right")}else if(r<0){u(this).removeClass("has-width").addClass("align-left")}})};m.productSearchLabel=function(){m.$header.on("change","#header-search-product-cat",function(){var e=u(this).find("option:selected").text().trim();m.$header.find(".product-cat-label").html(e)});m.$header.find(".products-search").on("submit",function(){if(u(this).find("#header-search-product-cat").val()=="0"){u(this).find("#header-search-product-cat").removeAttr("name")}})};m.postEntryFormat=function(){if(!m.$body.hasClass("mf-blog-page")){return}var e=u(".blog-wapper").find(".entry-format");e.find(".slides").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'});u(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"})};m.toolTipIcon=function(){u(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}});e();u(document).on("yith_wcwl_fragments_loaded",function(){e()});u(document.body).on("removed_from_wishlist",function(){e()});u(document.body).on("added_to_wishlist",function(){e()});function e(){u(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}})}u(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return u(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}});u(document.body).on("added_to_cart",function(){u(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return u(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}})})};m.variationImagesCarousel=function(){var e=u(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:3,slidesToScroll:3,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})};m.addWishlist=function(){m.$body.on("click","a.add_to_wishlist",function(){u(this).addClass("loading")});m.$body.on("added_to_wishlist removed_from_wishlist cart_page_refreshed",function(){var e=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","update_wishlist_count");u.post(e,function(e){m.$header.find(".menu-item-wishlist .mini-item-counter").html(e)})});u(document).on("yith_wcwl_fragments_loaded",function(){if(!m.$body.hasClass("single-product")){return}if(m.$body.find("#mf-product-fbt").length<0){return}m.$body.find("#mf-product-fbt").find("a.add_to_wishlist").addClass("fbt-wishlist")});var a=0;m.$body.on("added_to_wishlist",function(e,t){e.preventDefault();u("ul.products li.product .yith-wcwl-add-button a").removeClass("loading");if(m.$body.hasClass("single-product")){if(t.hasClass("fbt-wishlist")){return}}var i=parseInt(t.data("product-id"));if(i==a){return}a=i;var o=t.data("product-title");m.addedToWishlistNotice("",o,false,"success")})};m.addedToWishlistNotice=function(e,t,i,o,a){if(typeof martfuryData.added_to_wishlist_notice==="undefined"||!u.fn.notify){return}if(a){t+=" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_texts}else{t+=" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_text}e+='<a href="'+martfuryData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+martfuryData.added_to_wishlist_notice.wishlist_view_text+"</a>";if(i){e='<div class="message-box">'+e+"</div>"}u.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+e+'<span class="close icon-cross2"></span> </div>'});u.notify(t,{autoHideDelay:martfuryData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:o,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};m.addCompare=function(){m.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=u(this);t.addClass("loading");t.closest(".product-inner").find(".compare:not(.loading)").trigger("click");var i=false;if(u(this).hasClass("added")){i=true}if(i===false){var o=m.$header.find("#mini-compare-counter").html();o=parseInt(o,10)+1;setTimeout(function(){m.$header.find("#mini-compare-counter").html(o);t.removeClass("loading")},2e3)}else{t.removeClass("loading")}});u(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=u("#mini-compare-counter",window.parent.document).html();t=parseInt(t,10)-1;if(t<0){t=0}u("#mini-compare-counter",window.parent.document).html(t)});u(document).find("#yith-woocompare").on("click",".yith_woocompare_clear",function(e){e.preventDefault();u("#mini-compare-counter",window.parent.document).html(0)});u(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=$header.find("#mini-compare-counter").html();t=parseInt(t,10)-1;if(t<0){t=0}setTimeout(function(){$header.find("#mini-compare-counter").html(t)},2e3)});u(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault();setTimeout(function(){$header.find("#mini-compare-counter").html("0")},2e3)})};m.productQuantity=function(){m.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var t=u(this),i=t.siblings(".qty"),o=0,a=parseFloat(i.attr("min")),r=parseFloat(i.attr("max")),n=parseFloat(i.attr("step"));if(i.val()!==""){o=parseFloat(i.val())}else if(i.attr("placeholder")!==""){o=parseFloat(i.attr("placeholder"))}a=a?a:0;r=r?r:o+1;if(t.hasClass("decrease")&&o>a){i.val(o-n);i.trigger("change")}if(t.hasClass("increase")&&o<r){i.val(o+n);i.trigger("change")}if(t.closest(".wcboost-wishlist-item").length){if(t.hasClass("increase")){t.closest(".wcboost-wishlist-item").find(".qty").val(o+n);t.closest(".wcboost-wishlist-item").find(".qty").trigger("change")}if(t.hasClass("decrease")){t.closest(".wcboost-wishlist-item").find(".qty").val(o-n);t.closest(".wcboost-wishlist-item").find(".qty").trigger("change")}}})};m.productThumbnail=function(){e();u(".woocommerce-product-gallery").on("product_thumbnails_slider",function(){e()});function e(){var i=u(".woocommerce-product-gallery");var o=i.find(".woocommerce-product-gallery__image.mf-product-video");var a=i.find(".flex-control-thumbs");m.$window.on("load",function(){u(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(u(this).find("img").hasClass("lazy")){var e=u(this).find("img").data("original");u(this).find("img").attr("src",e)}})});i.imagesLoaded(function(){setTimeout(function(){if(o.length>0){u(".woocommerce-product-gallery").addClass("has-video");if(u(".woocommerce-product-gallery").hasClass("video-first")){a.find("li").first().append('<i class="i-video ion-play"></i>')}else{a.find("li").last().append('<i class="i-video ion-play"></i>')}}if(m.$body.hasClass("mobile-version")){return}if(a.length<1){return}var e=i.data("columns");var t=a.find("li").length;if(t>e){if(!u(".mf-single-product").hasClass("mf-product-sidebar")){a.not(".slick-initialized").slick({slidesToShow:e,slidesToScroll:1,focusOnSelect:true,vertical:true,infinite:false,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]});a.find("li.slick-current").trigger("click")}else{a.not(".slick-initialized").slick({slidesToShow:e,focusOnSelect:true,slidesToScroll:1,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}}else{a.addClass("no-slick")}},100)})}};m.productVideo=function(){var n=u(".woocommerce-product-gallery");var e=n.find(".woocommerce-product-gallery__image.mf-product-video");var t=n.find(".flex-control-thumbs");if(e.length<1){return}i();u(".woocommerce-product-gallery").on("product_video_slider",function(){i()});function i(){var a=false,r=false;t.on("click","li",function(){var e=n.find(".mf-product-video");var t=u(this).siblings().length;r=true;if(u(this).index()==t){r=false;a=false}if(!a&&r){var i=e.find("iframe"),o=e.find("video.wp-video-shortcode");if(i.length>0){i.attr("src",i.attr("src"))}if(o.length>0){o[0].pause()}a=true}return false});t.find("li").on("click",".i-video",function(e){e.preventDefault();u(this).closest("li").find("img").trigger("click")})}};m.productGallery=function(){var e=u(".woocommerce-product-gallery");if(typeof martfuryData.product_gallery==="undefined"||martfuryData.product_gallery!="1"){e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault()});return}if(!e.length){return}e.find(".woocommerce-product-gallery__image").on("mouseenter",function(){u(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide");u(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")});e.find(".woocommerce-product-gallery__image").on("mouseleave",function(){u(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide");u(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")});e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault();if(u(this).hasClass("mf-product-video")){return false}var t=[];var i=u(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__wrapper").children(".woocommerce-product-gallery__image");i.each(function(){var e=u(this);if(e.hasClass("mf-product-video")){t.push({html:e.find(".mf-video-content").html(),w:1e3,h:1e3})}else{t.push({src:e.children("a").attr("href"),w:e.find("img").attr("data-large_image_width"),h:e.find("img").attr("data-large_image_height")})}});var o=i.index(u(this)),a={index:o,bgOpacity:.85,showHideOpacity:true,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:false,fullscreenEl:false,shareEl:false,tapToClose:true,tapToToggleControls:false};var r=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,a);r.init();r.listen("close",function(){u(".mf-video-wrapper").find("iframe").each(function(){u(this).attr("src",u(this).attr("src"))});u(".mf-video-wrapper").find("video").each(function(){u(this)[0].pause()})})})};m.productDegree=function(){if(typeof martfuryData.product_degree==="undefined"){return}var e=u(".woocommerce-product-gallery .product-degree-images");if(e.length<1){return}if(martfuryData.product_degree.length<1){return}var a="",r=u("#product-degree-pswp");e.on("click",function(e){e.preventDefault();m.openModal(r);if(r.hasClass("init")){return}r.addClass("init");var t=martfuryData.product_degree.split(","),i=[];for(var o=0;o<t.length;o++){i.push(t[o])}a=r.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:i.length,endFrame:i.length,currentFrame:1,imgList:r.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:i,height:500,width:830,navigation:true});r.find(".product-degree-images").imagesLoaded(function(){r.find(".nav_bar").removeClass("hide")});r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){a.stop();u(this).removeClass("play")})});r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){m.closeModal(r)})};m.cartQuantity=function(){if(!m.$body.hasClass("woocommerce-cart")){return}if(martfuryData.quantity_ajax!="1"){return}m.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();m.$body.find('button[name="update_cart"]').trigger("click")});m.$body.on("keyup",".quantity .qty",function(e){e.preventDefault();m.$body.find('button[name="update_cart"]').trigger("click")})};m.openModal=function(e){e.fadeIn();e.addClass("open")};m.closeModal=function(e){e.fadeOut(function(){u(this).removeClass("open")})};m.hoverProductTabs=function(){var e,t,i,o,a,r=u(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(r.length<1){return}r.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var n=u("#tl-wc-tab");a=r.children("li.active").outerWidth();n.width(a).css("left",r.children("li.active").position().left).data("origLeft",n.position().left).data("origWidth",n.width());o=n.data("origWidth");r.children("li").on("mouseenter",function(){e=u(this);i=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:i})});r.children("li").on("mouseleave",function(){n.stop().animate({left:n.data("origLeft"),width:o})});r.on("click","li",function(){e=u(this);o=i=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:i});n.data("origLeft",t).data("origWidth",i)})};m.searchLayeredNav=function(){var e=u(".mf-widget-layered-nav");if(e.length<1){return}e.on("keyup",".mf-input-search-nav",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}var i=u(this).val();if(typeof i==="number"){i=""+i}var o=i.toUpperCase(),a=u(this).closest(".mf-widget-layered-nav"),r=a.find(".woocommerce-widget-layered-nav-list"),n=r.children(".wc-layered-nav-term");n.each(function(){var e=u(this).find("a").data("title");if(typeof e==="number"){e=""+e}e=e.toUpperCase();if(e.indexOf(o)>-1){u(this).show()}else{u(this).hide()}});var s=r.data("height");if(r.height()<parseInt(s)){a.addClass("no-scroll")}else{a.removeClass("no-scroll")}})};m.instanceSearch=function(){if(martfuryData.ajax_search!="1"){return}var c=null,d={},i=m.$body.find("form.products-search");i.on("keyup",".search-field",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}if(c){c.abort()}var i=u(this).closest(".products-search"),o=i.find("input.search-field");if(o.val().length<2){i.removeClass("searching searched actived found-products found-no-product invalid-length")}a(i)}).on("change","#header-search-product-cat",function(){if(c){c.abort()}var e=u(this).closest(".products-search");a(e)}).on("focusout",".search-field",function(){var e=u(this).closest(".products-search"),t=e.find("input.search-field");if(t.val().length<2){e.removeClass("searching searched actived found-products found-no-product invalid-length")}});u(document).on("click",function(e){if(!i.hasClass("actived")){return}var t=e.target;if(u(t).closest(".products-search").length<1){i.removeClass("searching searched actived found-products found-no-product invalid-length")}});function a(i){var e=i.find("input.search-field"),t=e.val(),o=0,a=i.find(".search-results");if(i.find("#header-search-product-cat").length>0){o=i.find("#header-search-product-cat").val()}if(t.trim().length<2){i.removeClass("searching found-products found-no-product").addClass("invalid-length");return}i.removeClass("found-products found-no-product").addClass("searching");var r=t+o;if(r in d){var n=d[r];i.removeClass("searching");i.addClass("found-products");a.html(n.products);u(document.body).trigger("martfury_ajax_search_request_success",[a]);i.removeClass("invalid-length");i.addClass("searched actived")}else{var s={term:t,nonce:martfuryData.nonce,cat:o,search_type:martfuryData.search_content_type},l=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_search_products");c=u.post(l,s,function(e){var t=e.data;f(i,a,t,r)})}}function f(e,t,i,o){e.removeClass("searching");e.addClass("found-products");t.html(i);e.removeClass("invalid-length");u(document.body).trigger("martfury_ajax_search_request_success",[t]);d[o]={found:true,products:i};e.addClass("searched actived")}};m.singleEntryFormat=function(){if(!m.$body.hasClass("single-post")){return}var e=u("#mf-single-entry-format");e.find(".slides").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'});e.fitVids({customSelector:"iframe, video"})};m.blogLayout=function(){if(!m.$body.hasClass("blog-layout-masonry")){return}m.$body.imagesLoaded(function(){m.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})};m.relatedPost=function(){if(!m.$body.hasClass("single-post")){return}var e=u("#mf-related-posts").find(".related-posts-list");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:3,slidesToScroll:1,dots:true,infinite:false,arrows:false,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]});e.on("afterChange",function(){m.lazyLoad()})};m.blogLoadingAjax=function(){m.$window.on("scroll",function(){if(m.$body.find("#mf-infinite-loading").is(":in-viewport")){m.$body.find("#mf-infinite-loading").trigger("click")}}).trigger("scroll");m.$body.on("click","#mf-infinite-loading",function(e){e.preventDefault();if(u(this).data("requestRunning")){return}u(this).data("requestRunning",true);var o=m.$body.find(".mf-post-list"),a=u(this).parents(".navigation");u.get(u(this).closest(".page-numbers").attr("href"),function(e){var t=u(e).find(".mf-post-list").children(".blog-wapper"),i=u(e).find(".navigation").html();a.html(i);o.append(t);a.find("a").data("requestRunning",false);m.lazyLoad();m.postEntryFormat()})})};m.pageHeaderParallax=function(){if(!u(".page-header").hasClass("page-header-sliders")){return}var e=u(".page-header-sliders"),t=e.data("speed"),i=e.data("auto");e.find("ul").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:true,autoplaySpeed:t,autoplay:i,arrows:false});e.on("click",".slick-prev-arrow",function(){e.find("ul").slick("slickPrev")});e.on("click",".slick-next-arrow",function(){e.find("ul").slick("slickNext")})};m.lazyLoad=function(){m.$body.find("img.lazy").lazyload({load:function(){u(this).removeClass("lazy")}});m.$window.on("load",function(){u(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){u(this).removeClass("lazy")}}).trigger("appear")})};m.recentlyFooterViewedProducts=function(){e();t();function e(){var e=u("#footer-recently-viewed");if(e.length<1){return}if(!e.hasClass("load-ajax")){m.recentlyViewedCarousel(e);m.lazyLoad();m.$body.trigger("martfury_recently_viewed_loaded",e)}else{m.$window.on("scroll",function(){if(m.$body.find("#footer-recently-viewed").is(":in-viewport")){a(e)}}).trigger("scroll")}}function t(){var e=u("#footer-history-products"),t=true,i=u("#footer-bot-recently-viewed"),o=u("#mf-off-canvas-layer");if(e.length<1){return}e.on("click",".recently-title",function(e){e.preventDefault();i.addClass("load-ajax");o.toggleClass("opened");i.slideToggle(400,function(){if(t){a(i);t=false}});u(this).toggleClass("active")});o.on("click",function(){o.removeClass("opened");e.find(".recently-title").removeClass("active");i.slideUp(400)})}function a(t){if(t.length<1){return}if(!t.hasClass("load-ajax")){return}if(t.hasClass("loaded")){return}if(t.data("requestRunning")){return}t.data("requestRunning",true);var e={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_footer_recently_viewed");u.post(i,e,function(e){t.html(e.data);if(t.find(".product-list").hasClass("no-products")){t.addClass("no-products")}m.lazyLoad();m.recentlyViewedCarousel(t);t.addClass("loaded");t.data("requestRunning",false);m.$body.trigger("martfury_recently_viewed_loaded",t)})}};m.headerRecentlyProducts=function(){var e=u("#header-recently-viewed");if(e.length<1){return}if(!e.hasClass("load-ajax")){m.recentlyViewedCarousel(e);m.lazyLoad();m.$body.trigger("martfury_recently_viewed_loaded",e)}else{m.$header.find(".recently-title").on("mouseenter",function(){t(e)})}function t(t){if(t.data("requestRunning")){return}if(t.hasClass("loaded")){return}t.data("requestRunning",true);var e={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_header_recently_viewed");u.post(i,e,function(e){t.html(e.data);if(t.find(".product-list").hasClass("no-products")){t.addClass("no-products")}m.lazyLoad();m.recentlyViewedCarousel(t);t.data("requestRunning",false);t.addClass("loaded");m.$body.trigger("martfury_recently_viewed_loaded",t)})}};m.recentlyViewedCarousel=function(e){var t=e.find(".product-list");if(t.hasClass("no-products")){return}var i=parseInt(e.data("columns"));t.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:i,slidesToScroll:i,arrows:true,infinite:false,dots:true,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1500,settings:{slidesToShow:parseInt(i)>8?8:i,slidesToScroll:parseInt(i)>8?8:i}},{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}}]});t.on("afterChange",function(){m.lazyLoad()})};m.catalogBanners=function(){var e=u("#mf-catalog-banners");if(e.length<=0){return}var t=e.data("columns"),i=e.data("autoplay"),o=false,a=1e3;if(i>0){o=true;a=i;i=true}else{i=false}e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,autoplaySpeed:a,autoplay:i,infinite:o,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'});e.on("afterChange",function(){m.lazyLoad()})};m.productsTopCarousel=function(){var e=u(".mf-products-top-carousel");if(e.length<=0){return}e.each(function(){var e=u(this).data("columns"),t=u(this).data("autoplay"),i=false,o=1e3;if(t>0){i=true;o=t;t=true}else{t=false}u(this).find("ul.products").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:e,slidesToScroll:e,autoplaySpeed:o,autoplay:t,infinite:i,dots:true,prevArrow:u(this).find(".slick-prev-arrow"),nextArrow:u(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:parseInt(e)>3?3:e,slidesToScroll:parseInt(e)>3?3:e}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});u(this).on("afterChange",function(){m.lazyLoad()})})};m.collapseTheFilter=function(){if(typeof martfuryData.collapse_catalog_filter==="undefined"){return}var e=u(".catalog-sidebar .widget");e.each(function(){var e=u(this);if(e.length<=0){return}if(martfuryData.collapse_catalog_filter.status=="close"){e.find(".widget-title").siblings().addClass("closed");e.find(".widget-title").addClass("non-active")}else{e.find(".widget-title").addClass("active")}e.on("click",".widget-title",function(e){e.preventDefault();u(this).siblings().slideToggle();u(this).siblings().toggleClass("opened");u(this).toggleClass("active no-active")});m.searchLayeredNav()})};m.wooTabToggle=function(){if(typeof martfuryData.product_collapse_tab==="undefined"){return}var e=u(".mf-woo-tabs .mf-Tabs-panel");e.each(function(){var e=u(this),t=e.attr("id"),i=u("#"+t).find(".tab-title");if(martfuryData.product_collapse_tab.status=="close"){i.siblings(".tab-content-wrapper").addClass("closed")}else{i.addClass("active")}i.on("click",function(e){e.preventDefault();u(this).siblings(".tab-content-wrapper").slideToggle().toggleClass("opened");u(this).toggleClass("active")})})};m.productCategoriesWidget=function(){var e=u(".mf_widget_product_categories, .wcv.widget_product_categories");if(e.length<=0){return}e.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>');e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show();e.on("click",".cat-menu-close",function(e){e.preventDefault();u(this).closest("li").children(".children").slideToggle();u(this).closest("li").toggleClass("opened")})};m.productTopCategories=function(){var e=u(".mf-catalog-top-categories");if(e.length<=0){return}e.on("click",".cat-menu-close",function(e){e.preventDefault();u(this).closest("li").children(".sub-categories").slideToggle();u(this).closest("li").toggleClass("opened")})};m.productAttribute=function(){var r="",n="";m.$body.on("mouseover",".mf-swatch-image",function(e){e.preventDefault();var t=u(this).closest("li.product").find(".mf-product-thumbnail"),i=t.find("img");r=i.attr("src");n=i.attr("srcset");var o=u(this).find("img").attr("src"),a=u(this).find("img").attr("srcset");i.attr("src",o);if(a){i.attr("srcset",a)}}).on("mouseout",".mf-swatch-image",function(e){e.preventDefault();var t=u(this).closest("li.product").find(".mf-product-thumbnail"),i=t.find("img");if(r){i.attr("src",r)}if(n){i.attr("srcset",n)}});m.$body.on("mouseover",".mf-attr-swatches",function(e){e.preventDefault();var t=u(this).closest("li.product").find(".mf-product-thumbnail");t.addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(e){e.preventDefault();var t=u(this).closest("li.product").find(".mf-product-thumbnail");t.removeClass("hover-swatch")})};m.shopView=function(){m.$body.on("click",".mf-shop-view",function(e){e.preventDefault();var t=u(this),i=t.data("view");if(t.hasClass("current")){return}m.$body.find(".mf-shop-view").removeClass("current");t.addClass("current");m.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+i);document.cookie="shop_view="+i+";domain="+window.location.host+";path=/";u(document.body).trigger("martfury_shop_view_after_change")});u(document.body).on("martfury_shop_view_after_change",function(){m.lazyLoad()})};m.singleProductCarousel=function(){var e=m.$body.find(".up-sells ul.products"),t=m.$body.find(".related.products ul.products");if(e.length<=0&&t.length<=0){return}var i=e.closest(".up-sells").data("columns");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:parseInt(i),slidesToScroll:parseInt(i),arrows:true,dots:true,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(i)>5?5:parseInt(i),slidesToScroll:parseInt(i)>5?5:parseInt(i)}},{breakpoint:1200,settings:{slidesToShow:parseInt(i)>4?4:parseInt(i),slidesToScroll:parseInt(i)>4?4:parseInt(i)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});e.on("afterChange",function(){m.lazyLoad()});var o=t.closest(".related").data("columns");t.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:parseInt(o),slidesToScroll:parseInt(o),arrows:true,dots:true,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(o)>5?5:parseInt(o),slidesToScroll:parseInt(o)>5?5:parseInt(o)}},{breakpoint:1200,settings:{slidesToShow:parseInt(o)>4?4:parseInt(o),slidesToScroll:parseInt(o)>4?4:parseInt(o)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});t.on("afterChange",function(){m.lazyLoad()})};m.instagramCarousel=function(){var e=m.$body.find(".mf-product-instagram ul.products"),t=e.data("columns"),i=e.data("auto"),o=false,a=1e3;if(e.length<1){return}if(i>0){o=true;a=i;i=true}else{i=false}e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:t,slidesToScroll:t,autoplaySpeed:a,autoplay:i,infinite:o,dots:true,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(t)>4?4:parseInt(t),slidesToScroll:parseInt(t)>4?4:parseInt(t)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});e.on("afterChange",function(){m.lazyLoad()})};m.productQuickView=function(){var r=u("#mf-quick-view-modal"),n=r.find(".product-modal-content");m.$body.on("click",".mf-product-quick-view",function(e){e.preventDefault();var t=u(this),i=t.data("id");n.hide().html("");r.addClass("loading").removeClass("loaded");m.openModal(r);var o={nonce:martfuryData.nonce,product_id:i},a=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_product_quick_view");u.post(a,o,function(e){n.show().append(e.data);r.removeClass("loading").addClass("loaded");var t=n.find(".woocommerce-product-gallery"),i=u(".variations_form"),o=n.find("form.cart .actions-button"),a=o.find(".buy_now_button");t.removeAttr("style");t.find("img.lazy").lazyload().trigger("appear");t.imagesLoaded(function(){t.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})});n.find("div.product").addClass("qv-modal");if(a.length>0){o.prepend(a)}t.find(".woocommerce-product-gallery__image").on("click",function(e){e.preventDefault()});if(typeof wc_add_to_cart_variation_params!=="undefined"){i.each(function(){u(this).wc_variation_form()})}if(typeof u.fn.tawcvs_variation_swatches_form!=="undefined"){i.tawcvs_variation_swatches_form()}m.productVatiation();if(typeof tawcvs!=="undefined"){if(tawcvs.tooltip==="yes"){i.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}})}}n.find(".compare").tooltip({content:function(){return u(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}});n.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){u(".ui-helper-hidden-accessible").remove()}});m.buyNow();m.addToCartAjax();u(document.body).trigger("yith_wcwl_init");u(document.body).trigger("init_variation_swatches")})});r.on("click",".close-modal, .mf-modal-overlay",function(e){e.preventDefault();m.closeModal(r)})};m.productVatiation=function(){m.$body.on("tawcvs_initialized",function(){u(".variations_form").unbind("tawcvs_no_matching_variations");u(".variations_form").on("tawcvs_no_matching_variations",function(e,t){e.preventDefault();u(".variations_form").find(".woocommerce-variation.single_variation").show();if(typeof wc_add_to_cart_variation_params!=="undefined"){u(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")}})});u(".variations_form").on("found_variation.wc-variation-form",function(e,t){var i=u(".mf-product-detail").find(".meta-sku").find(".meta-value");if(typeof i.wc_set_content!=="function"){return}if(typeof i.wc_reset_content!=="function"){return}if(t.sku){i.wc_set_content(t.sku)}else{i.wc_reset_content()}});u(".variations_form td.value").find("select").each(function(){if(u(this).parent().hasClass("wcboost-variation-swatches")){return}u(this).on("change",function(){var e=u(this).find("option:selected").text();u(this).closest("tr").find("td.label .mf-attr-value").html(e)}).trigger("change")})};m.productVariationVideo=function(){var e=u(".variations_form"),o=u(".woocommerce-product-gallery");e.on("found_variation.wc-variation-form",function(e,t){if(!o.hasClass("video-first")||!o.hasClass("has-video")){return}var i=o.find(".mf-video-content").find(".wp-post-image");if(i.length<1||i.attr("src")==="#"){return}if(t&&t.image&&t.image.src&&t.image.src.length>1){o.addClass("active-first-image")}else{o.removeClass("active-first-image")}});e.on("reset_image",function(e){o.removeClass("active-first-image")})};m.addToCartAjax=function(){if(martfuryData.add_to_cart_ajax=="0"){return}var n=false;m.$body.find("form.cart").on("click",".single_add_to_cart_button",function(e){var a=u(this),t=a.closest("form.cart"),i=a.closest(".entry-summary").find(".product_title");if(a.hasClass("has-buy-now")){return}if(t.length>0){e.preventDefault()}else{return}if(a.hasClass("disabled")){return}a.addClass("loading");if(n){return}n=true;t.find('input[name="buy_now"]').remove();var o=t.serializeArray(),r=window.location.href;if(a.val()!=""){o.push({name:a.attr("name"),value:a.val()})}u.ajax({url:window.location.href,method:"post",data:o,error:function(){window.location=r},success:function(e){if(!e){window.location=r}if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}u(document.body).trigger("updated_wc_div");u(document.body).on("wc_fragments_refreshed",function(){a.removeClass("loading")});var t="",i="success",o=false;if(u(e).find(".woocommerce-message").length>0){t=u(e).find(".woocommerce-message").html()}if(u(e).find(".woocommerce-error").length>0){t=u(e).find(".woocommerce-error").html();i="error"}if(u(e).find(".woocommerce-info").length>0){t=u(e).find(".woocommerce-info").html()}m.addedToCartNotice(t,true,i,false);n=false}})})};m.addedToCartNotice=function(e,t,i,o){if(typeof martfuryData.added_to_cart_notice==="undefined"||!u.fn.notify){return}if(!t){if(o){e+=" "+martfuryData.added_to_cart_notice.added_to_cart_texts}else{e+=" "+martfuryData.added_to_cart_notice.added_to_cart_text}}e+='<a href="'+martfuryData.added_to_cart_notice.cart_view_link+'" class="btn-button">'+martfuryData.added_to_cart_notice.cart_view_text+"</a>";if(t){e='<div class="message-box">'+e+"</div>"}u.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i>'+e+'<span class="close icon-cross2"></span> </div>'});u.notify("&nbsp",{autoHideDelay:martfuryData.added_to_cart_notice.cart_notice_auto_hide,className:i,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};m.filterAjax=function(){if(!m.$body.hasClass("catalog-ajax-filter")){return}u("#page").addClass("fade-in");u(document.body).on("price_slider_change",function(e,t){var i=u(".price_slider").closest("form").get(0),o=u(i),a=o.attr("action")+"?"+o.serialize();u(document.body).trigger("martfury_catelog_filter_ajax",a,u(this))});m.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.mf-cancel-order)",function(e){e.preventDefault();var t=u(this).attr("href");u(document.body).trigger("martfury_catelog_filter_ajax",t,u(this))});u(document.body).on("martfury_catelog_filter_ajax",function(e,t,i){var o=u("#content"),a=u(".page-header"),r=u("head").find("title");NProgress.start();u("#page").removeClass("fade-in");if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);u(document.body).trigger("martfury_ajax_filter_before_send_request",[t,i]);if(m.ajaxXHR){m.ajaxXHR.abort()}m.ajaxXHR=u.get(t,function(e){o.replaceWith(u(e).find("#content"));a.html(u(e).find(".page-header").html());r.html(u(e).filter("title").text());if(typeof martfuryData.catalog_filter_products_status!=="undefined"){m.$body.removeClass("mf-filter-active")}if(u(e).find("#primary-sidebar").length<1){m.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content")}u(document.body).trigger("martfury_ajax_filter_request_success",[e,t]);u(document.body).trigger("yith_wcwl_init")},"html")});u(document.body).on("martfury_ajax_filter_request_success",function(){m.lazyLoad();m.toolTipIcon();m.searchLayeredNav();m.catalogBanners();m.productsTopCarousel();m.collapseTheFilter();m.productCategoriesWidget();m.productAttribute();m.variationImagesCarousel();m.productTopCategories();m.priceSlider();m.catalogSorting();m.productCatWidget();NProgress.done();u("#page").addClass("fade-in")})};m.productMultiVendors=function(){if(!m.$body.hasClass("mobile-version")){return}var t=u("#tab-singleproductmultivendor");if(t.length<1){return}var e=30;if(m.$body.hasClass("sticky-header")){e=90}var i=t.offset().top-e;u("div.product").on("click",".goto_more_offer_tab",function(e){e.preventDefault();u("html, body").stop().animate({scrollTop:i},400);t.find(".tab-title").trigger("click")})};m.stickyProductInfo=function(){if(!m.$body.hasClass("sticky-header-info")){return}var i=u("#sticky-product-info-wapper"),o=u("div.product").find(".woocommerce-tabs"),a=i.outerHeight(true),r=u("div.product").find(".mf-product-summary"),n=u("div.product").find(".entry-summary").find(".cart"),s=0;i.find(".sc-tabs").on("click","a",function(e){e.preventDefault();var t=u(this).data("tab");u(this).closest(".sc-tabs").find("a").removeClass("active");u(this).addClass("active");if(m.$body.hasClass("single-product-layout-3")||m.$body.hasClass("mobile-version")){var i=u("#tab-"+t);if(i.length>0){s=i.offset().top-a-60;u("html, body").stop().animate({scrollTop:s},400)}}else{if(o.length>0){o.find("."+t+"_tab a").trigger("click");s=o.offset().top-a-60;u("html, body").stop().animate({scrollTop:s},400)}}});o.find(".wc-tabs").on("click","a",function(e){e.preventDefault();var t=u(this).attr("href");t=t?t.replace("#",""):t;if(t){i.find(".sc-tabs").find("a").removeClass("active");i.find(".sc-tabs ."+t).addClass("active")}});i.find(".sc-product-cart").on("click",".button",function(e){e.preventDefault();if(n.length>0){var t=n.offset().top-a-50;u("html, body").stop().animate({scrollTop:t},400)}});var l=150;if(m.$body.hasClass("single-product-layout-3")||m.$body.hasClass("mobile-version")){m.$window.on("scroll",function(){i.find(".sc-tabs li a").removeClass("active");i.find(".sc-tabs li").each(function(){var e=u(this).find("a");var t=e.attr("href");if(u(t).is(":in-viewport("+l+")")){e.addClass("active")}})})}if(r.length<1){return}var c=0;m.$window.on("scroll",function(){if(m.$body.hasClass("mobile-version")){var e=u("#topbar").length>0?u("#topbar").outerHeight(true):0,t=m.$header.outerHeight(true);c=t+e}else{c=r.offset().top-300}if(m.$window.scrollTop()>c){i.addClass("viewport")}else{i.removeClass("viewport")}})};m.catalogOpenCartMini=function(){u(document.body).on("added_to_cart",function(e,t,i,o){var a=o.attr("data-title");m.addedToCartNotice(a,false,"success",false)})};m.priceSlider=function(){if(typeof woocommerce_price_slider_params==="undefined"){return false}if(u(".catalog-sidebar").find(".widget_price_filter").length<=0){return false}u("input#min_price, input#max_price").hide();u(".price_slider, .price_label").show();var e=u(".price_slider_amount #min_price").data("min"),t=u(".price_slider_amount #max_price").data("max"),i=parseInt(e,10),o=parseInt(t,10);if(u(".price_slider_amount #min_price").val()!=""){i=parseInt(u(".price_slider_amount #min_price").val(),10)}if(u(".price_slider_amount #max_price").val()!=""){o=parseInt(u(".price_slider_amount #max_price").val(),10)}u(document.body).on("price_slider_create price_slider_slide",function(e,t,i){if(woocommerce_price_slider_params.currency_pos==="left"){u(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+t);u(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+i)}else if(woocommerce_price_slider_params.currency_pos==="left_space"){u(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+t);u(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+i)}else if(woocommerce_price_slider_params.currency_pos==="right"){u(".price_slider_amount span.from").html(t+woocommerce_price_slider_params.currency_symbol);u(".price_slider_amount span.to").html(i+woocommerce_price_slider_params.currency_symbol)}else if(woocommerce_price_slider_params.currency_pos==="right_space"){u(".price_slider_amount span.from").html(t+" "+woocommerce_price_slider_params.currency_symbol);u(".price_slider_amount span.to").html(i+" "+woocommerce_price_slider_params.currency_symbol)}u(document.body).trigger("price_slider_updated",[t,i])});if(typeof u.fn.slider!=="undefined"){u(".price_slider").slider({range:true,animate:true,min:e,max:t,values:[i,o],create:function(){u(".price_slider_amount #min_price").val(i);u(".price_slider_amount #max_price").val(o);u(document.body).trigger("price_slider_create",[i,o])},slide:function(e,t){u("input#min_price").val(t.values[0]);u("input#max_price").val(t.values[1]);u(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){u(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}};m.loginTabs=function(){var o=u(".martfury-login-tabs"),e=o.find(".tabs-nav a"),a=o.find(".tabs-panel");e.on("click",function(e){e.preventDefault();var t=u(this),i=t.parent().index();if(t.hasClass("active")){return}o.find(".tabs-nav a").removeClass("active");t.addClass("active");a.removeClass("active");a.filter(":eq("+i+")").addClass("active")})};m.productsLoadInfinite=function(){if(!m.$body.hasClass("navigation-type-infinite")){return}m.$window.on("scroll",function(){if(m.$body.find("#martfury-products-loading").is(":in-viewport")){m.$body.find("#martfury-products-loading").closest(".next").trigger("click")}}).trigger("scroll");m.$body.on("click",".woocommerce-pagination .next",function(e){e.preventDefault();var t=u(this);if(t.data("requestRunning")){return}t.data("requestRunning",true);var o=t.closest(".woocommerce-pagination"),a=o.prev(".products"),i=t.closest(".next").attr("href");u.get(i,function(e){var t=u(e).find("#mf-shop-content ul.products").children("li.product"),i=u(e).find(".woocommerce-pagination").html();if(m.$body.hasClass("wcfmmp-store-page")){t=u(e).find("#products-wrapper ul.products").children("li.product")}o.html(i);a.append(t);o.find(".next").data("requestRunning",false);m.toolTipIcon();m.lazyLoad();m.variationImagesCarousel();u(document.body).trigger("martfury_shop_ajax_loading_success");u(document.body).trigger("yith_wcwl_init");u(document.body).trigger("jetpack-lazy-images-load")})})};m.productCatWidget=function(){var e=u(".mf_widget_product_categories"),t=parseInt(e.find("input.widget-cat-numbers").val(),10);if(!e.find("ul.product-categories").hasClass("has-view-more")){return}var i=e.find("ul.product-categories > li.cat-item").size();if(i>t){e.find(".show-more").show()}e.find("ul.product-categories > li.cat-item:lt("+t+")").show();e.on("click",".show-more",function(){e.find("ul.product-categories > li.cat-item").show();u(this).hide();e.find(".show-less").show()});e.on("click",".show-less",function(){e.find("ul.product-categories > li.cat-item").not(":lt("+t+")").hide();u(this).hide();e.find(".show-more").show()})};m.buyNow=function(){if(!m.$body.find(".mf-single-product").hasClass("mf-has-buy-now")){return}m.$body.find("form.cart").on("click",".buy_now_button",function(e){e.preventDefault();var t=u(this).closest("form.cart"),i=u(this).is(":disabled");if(i){jQuery("html, body").animate({scrollTop:u(this).offset().top-200},900)}else{t.append('<input type="hidden" value="true" name="buy_now" />');t.find(".single_add_to_cart_button").addClass("has-buy-now");t.find(".single_add_to_cart_button").trigger("click")}});var o=u(".variations_form");o.on("hide_variation",function(e){e.preventDefault();o.find(".buy_now_button").addClass("disabled wc-variation-selection-needed")});o.on("show_variation",function(e,t,i){e.preventDefault();if(i){o.find(".buy_now_button").removeClass("disabled wc-variation-selection-needed")}else{o.find(".buy_now_button").addClass("disabled wc-variation-selection-needed")}})};m.footerDropdown=function(){if(!m.$body.hasClass("mobile-version")){return}var e=u("#footer-widgets .widget_nav_menu, #footer-links .widget_nav_menu"),t=e.find(".widget-title");t.next("div").addClass("clicked");e.on("click",".widget-title",function(e){e.preventDefault();u(this).next(".clicked").stop().slideToggle();u(this).toggleClass("active");return false})};m.catalogSorting=function(){if(!m.$body.hasClass("mobile-version")){return}var t=u("#mf-catalog-sorting-mobile");u("#mf-catalog-toolbar").on("click",".woocommerce-ordering",function(e){e.preventDefault();t.addClass("mf-active")});t.on("click","a",function(e){t.removeClass("mf-active");t.find("a").removeClass("active");u(this).addClass("active")})};m.filterOnMobile=function(){m.$body.on("click","#mf-filter-mobile",function(e){e.preventDefault();m.$body.toggleClass("mf-filter-active")});m.$body.find("#mf-catalog-close-sidebar").on("click",".close-sidebar",function(e){e.preventDefault();m.$body.removeClass("mf-filter-active")})};m.historyBack=function(){if(!m.$body.hasClass("mobile-version")){return}var e=m.$header.find(".mf-history-back");e.on("click",function(e){if(document.referrer!=""){e.preventDefault();window.history.go(-1);u(window).on("popstate",function(e){window.location.reload(true)})}})};m.wcfm=function(){if(u("#mf_pbt_product_ids").length<=0){return false}if(typeof $wcfm_product_select_args==="undefined"){return false}u("#mf_pbt_product_ids").select2($wcfm_product_select_args)};u(function(){m.init()})})(jQuery);